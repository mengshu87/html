<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>引爆</button>
<button>拆弹专家</button>
<script>
    /*
    * 连续炸：
     setInterval(callback,time)
     time -> 毫秒

     返回值: number类型 （编号）

     编号也是为了关闭
     clearInterval(定时器的编号)

     *** 在定时器中的this指向window

     alert() 会阻塞代码

     */

    /*const btns=document.querySelectorAll('button');
    var timer;
    var num=10;
    btns[0].onclick=function(){
        timer=setInterval(function(){
            if(num<0){
                //clearInterval(timer);
                alert('爆炸！');
            }else{
                btns[0].innerHTML=num;
                num--;
            }
        },1000);
    }
    btns[1].onclick=function(){
        clearInterval(timer);
    }*/

    //当多次点击炸弹按钮时，点击拆弹专家按钮就不能全全部停止
    //解决方法：
    //    每次点击之前，先把之前的定时器给关闭
    const btns=document.querySelectorAll('button');
    var timer;
    var num=10;
    btns[0].onclick=function(){
        clearInterval(timer);
        timer=setInterval(function(){
            if(num<0){
                console.log('爆炸！');

            }else{
                btns[0].innerHTML=num;
                num--;
            }
        },1000);
    }
    btns[1].onclick=function(){
        clearInterval(timer);
    }


</script>
</body>
</html>