<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>作业</title>
    <style>
        html{height:100%;font-family: "Microsoft Yahei";}
        body{margin:0;height:100%;}
        .bg{margin:0 auto;width:100%;height:100%;background:url('img/bg.jpg');background-size:cover;}
        .phone{width:300px;height:560px;position:absolute;left:50%;top:50%;margin-left:-150px;margin-top:-250px;background:#e5e3ec;box-shadow:6px 6px 6px #827faf;border-radius:10px;}
        .receiver{width:50px;height:5px;background-color:#979799;border-radius:3px;margin:17px auto;}
        .main{width:270px;height:455px;border:1px solid #adadb0;margin:0px 15px;background-color:white;position:relative;}
        .homeBtn{width:50px;height:40px;background:url('img/miaov.png') no-repeat;margin:13px auto;}
        .message{list-style-type:none;margin:0;padding:0;width:100%;height:405px;position:absolute;top:0;left:0;overflow-y:auto;overflow-x:hidden;}
        .sentMsg{position:absolute;bottom:0;left:0;width:100%;height:50px;line-height:50px;background-color:#e3e3e3;}
        .sentMsg img{display:inline-block;width:35px;text-align:center;height:40px;float:left;margin:5px;cursor:pointer;}

        .sentMsg .text{width:155px;height:35px;background-color:white;border-radius:3px;border:none;padding:0 5px;margin:0 0 0 5px ;}
        .sentMsg .sentBtn{border:none;color:#d4636e;background:none;font-size:14px;cursor:pointer;}
        .message li{position:relative;overflow:hidden;width:100%;}
        .message li img{width:35px;padding:5px;}
        .message li .liCont1{max-width:165px;display:inline-block;padding:10px;margin:5px 9px;border-radius:3px;word-break: break-all; word-wrap:break-word;background-color:#e1e1e1;}
        .message li .liCont2{float:right;max-width:165px;display:inline-block;padding:10px;margin:5px 9px;border-radius:3px;background-color:#b2a9c8;color:#fff;word-break: break-all; word-wrap:break-word;}
        .left{float:left;}
        .right{float:right;}
        .left .triangle{width:10px;height:10px;display:inline-block;transform:rotate(45deg);background-color:#e1e1e1;position:absolute;left:50px;top:15px;}
        .right .triangle{width:10px;height:10px;display:inline-block;transform:rotate(45deg);background-color:#b2a9c8;position:absolute;right:50px;top:15px;}

    </style>
</head>
<body>
<div class="bg">
    <div class="phone">
        <div class="receiver"></div>
        <div class="main">
            <ul class="message">
            </ul>
            <div class="sentMsg">
                <img src="img/lico.png" alt=""/>
                <input type="text" value="" class="text" placeholder="请输入"/>
                <button class="sentBtn">发送</button>
            </div>
        </div>
        <div class="homeBtn"></div>
    </div>
</div>
</body>
<!--<script>
    //自己做的
    var msg=document.querySelector('.message');
    var img=document.querySelector('img');
    var text=document.querySelector('.text');
    var btn=document.querySelector('.sentBtn');
    var invoke=true;


    text.focus();
    img.onclick=function(){
        if(invoke){
            img.src='img/rico.png';
        }else{
            img.src='img/lico.png';
        }
        invoke=!invoke;
    };
    btn.onclick=function(){
        if(text.value==''){
            alert('亲，请写点什么吧！');
            text.focus();
        }else{
            if(invoke){
                var a=`<li class="left"><img src="img/lico.png" alt="" class="left"/><span class="triangle"></span><span class="liCont1">${text.value}</span></li>`;
                msg.innerHTML=a + msg.innerHTML;
                text.value='';
                text.focus();
            }else{
                var b=`<li class="right"><img src="img/rico.png" alt="" class="right"/><span class="triangle"></span><span class="liCont2">${text.value}</span></li>`;
                msg.innerHTML= b + msg.innerHTML;
                text.value='';
                text.focus();
            }

        }


    };

</script>-->
<script>
    //老师讲后整理
    var msg=document.querySelector('.message');
    var img=document.querySelector('img');
    var text=document.querySelector('.text');
    var btn=document.querySelector('.sentBtn');
    var invoke=true;
    text.focus();
    img.onclick=function(){
        img.src=invoke?'img/rico.png':'img/lico.png';
        invoke=!invoke;
        text.focus();
    };
    btn.onclick=function(){
        var val=text.value;
        if(val ==''){
            alert('亲，请写点什么吧！');
        }else{
            if(invoke){
                var a=`<li class="left"><img src="img/lico.png" alt="" class="left"/><span class="triangle"></span><span class="liCont1">${text.value}</span></li>`;
                msg.innerHTML=a + msg.innerHTML;
                text.value='';
                text.focus();
            }else{
                var b=`<li class="right"><img src="img/rico.png" alt="" class="right"/><span class="triangle"></span><span class="liCont2">${text.value}</span></li>`;
                msg.innerHTML= b + msg.innerHTML;
                text.value='';
                text.focus();
            }
        };
        text.value='';
        text.focus();

    };

</script>
</html>